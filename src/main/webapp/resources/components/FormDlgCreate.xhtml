<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"      
      xmlns:t="http://java.sun.com/jsf/composite/components">      

    <cc:interface>
        <cc:attribute name="header"/>
        <cc:attribute name="updateContainer"/>
        <cc:attribute name="entityToUpdate" type="br.jus.trt23.contavinculada.entities.EntidadeGenerica"/>
        <cc:attribute name="actionListener" method-signature="void action()"/>  
        <cc:attribute name="casePrefix" class="String"/>       
        <cc:attribute name="width"/>
    </cc:interface>

    <cc:implementation>
        <p:dialog id="#{cc.attrs.casePrefix.concat('Dlg')}" header="#{cc.attrs.header}" position="center" modal="true" draggable="true" widgetVar="#{cc.attrs.casePrefix.concat('Dlg')}" 
                  appendTo="@(body)" width="#{empty cc.attrs.width?'356px':cc.attrs.width}" responsive="true" closeOnEscape="true" class="editForm">
            <h:form id="#{cc.attrs.casePrefix.concat('Form')}">
                <div class="ui-grid">  
                    <p:panel header="#{messages.Active}">
                        <t:FormRowDate id="vigenteDesde" calendarValue="#{cc.attrs.entityToUpdate.vigenteDesde}" labelValue="#{messages.ActiveSince}"/>
                        <t:FormRowDate id="vigenteAte" calendarValue="#{cc.attrs.entityToUpdate.vigenteAte}" labelValue="#{messages.ActiveUntil}"/>                
                    </p:panel>
                    <cc:insertChildren/>

                    <div class="ui-grid-row">
                        <div class="ui-grid-col-12 paddingPlus10 alignCenter">
                            <p:commandButton value="#{messages.SaveLink}"  onclick="PF('#{cc.id}').hide()" actionListener="#{cc.attrs.actionListener}" partialSubmit="true" process="@parent" update="@(.ui-datatable) @(.ui-dialog)" icon="ui-icon-disk"/>                                
                            <p:commandButton id="cancelDlg" value="#{messages.CancelLink}" type="reset" onclick="PF('#{cc.attrs.casePrefix.concat('Dlg')}').hide()"/>
                        </div>  
                    </div>
                </div>
            </h:form>
        </p:dialog> 
    </cc:implementation>
</html>