<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html" 
                xmlns:t="http://java.sun.com/jsf/composite/components"      
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/template.xhtml">                >
    <ui:define name="content">
        <h:form>
            <p:dataTable id="contratoDT" 
                         value="#{contratoFlowController.lazyItems}"  
                         var="item" paginator="true" rows="10" 
                         paginatorPosition="top" paginatorAlwaysVisible="false" 
                         selection="#{contratoFlowController.selected}"  
                         lazy="true" filterDelay="600" 
                         class="listDT"
                         scrollable="true"
                         scrollHeight="450">       
                <p:column width="7%" headerText="#{messages.ActiveSince}">
                    <h:outputText value="#{item.vigenteDesde}" converter="localDateConverter"/>
                </p:column>  
                <p:column width="7%" headerText="#{messages.ActiveUntil}">
                    <h:outputText value="#{item.vigenteAte}" converter="localDateConverter"/>
                </p:column>                
                    <p:column width="10%" filterBy="#{item.numero}" headerText="#{contratoFlowController.getMsgFieldLabel('numero')}" >
                        <h:outputText value="#{item.numero}"/>
                    </p:column>
                    <p:column width="20%" filterBy="#{item.contratado.razaoSocial}" headerText="#{contratoFlowController.getMsgFieldLabel('contratado')}" >
                        <h:outputText value="#{item.contratado.descricao}"/>
                    </p:column>
                    <p:column width="20%" filterBy="#{item.objeto}" headerText="#{contratoFlowController.getMsgFieldLabel('objeto')}">
                        <h:outputText value="#{item.objeto}"/>
                    </p:column>      
                    <p:column width="10%" filterBy="#{item.processo}" headerText="#{contratoFlowController.getMsgFieldLabel('processo')}">
                        <h:outputText value="#{item.processo}"/>
                    </p:column>                  
                <p:column width="6%" headerText="#{messages.ActionLink}">
                    <p:commandButton title="#{messages.EditLink}" icon="ui-icon-pencil" action="#{contratoFlowController.prepareEdit()}"/>                                                                
                </p:column>
            </p:dataTable>                            
        </h:form>>
    </ui:define>
</ui:composition>  

